count(technique, sort = TRUE)
# Plot para Pergunta 2
p2 <- ggplot(techniques_raw, aes(x = reorder(technique, n), y = n)) +
geom_col(fill = "darkmagenta", alpha = 0.8) +
coord_flip() +
labs(title = "Técnicas Estatísticas/Matemáticas Mais Aplicadas\npor Profissionais de Computação/TI",
x = "Técnica",
y = "Número de Profissionais") +
theme_minimal() +
theme(plot.title = element_text(size = 14, hjust = 0.5),
axis.text = element_text(size = 10))
ggsave("statistical_techniques_comp_ti.png", plot = p2, width = 14, height = 8, dpi = 300)
print(p2)
# --- Análise para a Pergunta 3: Diferenças em Faixas Salariais e Níveis de Senioridade entre Cientistas de Dados ---
# Filtrar para Cientistas de Dados
ds_df <- df %>%
filter(`2.f_cargo_atual` == "Cientista de Dados/Data Scientist")
# Categorizar Cientistas de Dados por formação
ds_stats_background <- ds_df %>%
filter(str_detect(`1.m_área_de_formação`, regex("Estatística|Matemática", ignore_case = TRUE))) %>%
mutate(Background = "Estatística/Matemática")
ds_prog_background <- ds_df %>%
filter(str_detect(`1.m_área_de_formação`,
regex("Computação|TI|Engenharia de Software|Sistemas de Informação", ignore_case = TRUE))) %>%
mutate(Background = "Computação/TI")
# Preparar dados para Faixas Salariais
salary_stats <- ds_stats_background %>%
count(`2.h_faixa_salarial`, name = "Contagem") %>%
mutate(Background = "Estatística/Matemática") %>%
rename(`Faixa Salarial` = `2.h_faixa_salarial`)
salary_prog <- ds_prog_background %>%
count(`2.h_faixa_salarial`, name = "Contagem") %>%
mutate(Background = "Computação/TI") %>%
rename(`Faixa Salarial` = `2.h_faixa_salarial`)
salary_df_combined <- bind_rows(salary_stats, salary_prog) %>%
filter(!is.na(`Faixa Salarial`))
# Definir ordem personalizada para faixas salariais
salary_order <- c(
"Menos de R$ 1.000/mês",
"de R$ 1.001/mês a R$ 2.000/mês",
"de R$ 2.001/mês a R$ 3.000/mês",
"de R$ 3.001/mês a R$ 4.000/mês",
"de R$ 4.001/mês a R$ 6.000/mês",
"de R$ 6.001/mês a R$ 8.000/mês",
"de R$ 8.001/mês a R$ 12.000/mês",
"de R$ 12.001/mês a R$ 16.000/mês",
"de R$ 16.001/mês a R$ 20.000/mês",
"de R$ 20.001/mês a R$ 25.000/mês",
"de R$ 25.001/mês a R$ 30.000/mês",
"de R$ 30.001/mês a R$ 40.000/mês",
"Acima de R$ 40.001/mês"
)
salary_df_combined <- salary_df_combined %>%
mutate(`Faixa Salarial` = factor(`Faixa Salarial`, levels = salary_order))
# Plot para Faixas Salariais
p3 <- ggplot(salary_df_combined, aes(x = `Faixa Salarial`, y = Contagem, fill = Background)) +
geom_col(position = "dodge", alpha = 0.8) +
scale_fill_manual(values = c("Estatística/Matemática" = "coral", "Computação/TI" = "steelblue")) +
labs(title = "Faixas Salariais de Cientistas de Dados por Formação",
x = "Faixa Salarial",
y = "Número de Cientistas de Dados",
fill = "Formação") +
theme_minimal() +
theme(plot.title = element_text(size = 16, hjust = 0.5),
axis.text.x = element_text(angle = 45, hjust = 1, size = 10),
axis.text.y = element_text(size = 10),
legend.title = element_text(size = 12),
legend.text = element_text(size = 10))
ggsave("ds_salary_comparison.png", plot = p3, width = 16, height = 8, dpi = 300)
print(p3)
# Preparar dados para Níveis de Senioridade
seniority_stats <- ds_stats_background %>%
count(`2.g_nivel`, name = "Contagem") %>%
mutate(Background = "Estatística/Matemática") %>%
rename(`Nível de Senioridade` = `2.g_nivel`)
seniority_prog <- ds_prog_background %>%
count(`2.g_nivel`, name = "Contagem") %>%
mutate(Background = "Computação/TI") %>%
rename(`Nível de Senioridade` = `2.g_nivel`)
seniority_df_combined <- bind_rows(seniority_stats, seniority_prog) %>%
filter(!is.na(`Nível de Senioridade`))
# Definir ordem personalizada para níveis de senioridade
seniority_order <- c("Júnior", "Pleno", "Sênior")
seniority_df_combined <- seniority_df_combined %>%
mutate(`Nível de Senioridade` = factor(`Nível de Senioridade`, levels = seniority_order))
# Plot para Níveis de Senioridade
p4 <- ggplot(seniority_df_combined, aes(x = `Nível de Senioridade`, y = Contagem, fill = Background)) +
geom_col(position = "dodge", alpha = 0.8) +
scale_fill_manual(values = c("Estatística/Matemática" = "coral", "Computação/TI" = "steelblue")) +
labs(title = "Níveis de Senioridade de Cientistas de Dados por Formação",
x = "Nível de Senioridade",
y = "Número de Cientistas de Dados",
fill = "Formação") +
theme_minimal() +
theme(plot.title = element_text(size = 16, hjust = 0.5),
axis.text = element_text(size = 10),
legend.title = element_text(size = 12),
legend.text = element_text(size = 10))
ggsave("ds_seniority_comparison.png", plot = p4, width = 10, height = 6, dpi = 300)
print(p4)
# --- Box Plot para Distribuição Salarial ---
# Função para converter faixa salarial em valor numérico (ponto médio)
convert_salary_to_numeric <- function(salary_range) {
if (is.na(salary_range)) {
return(NA)
}
if (str_detect(salary_range, "Menos de R\\$")) {
return(500)  # Assumindo ponto médio de 0-1000
}
if (str_detect(salary_range, "Acima de R\\$")) {
return(45000)  # Assumindo um ponto acima de 40001
}
# Extrair valores numéricos da string
numbers <- str_extract_all(salary_range, "\\d+\\.?\\d*")[[1]]
if (length(numbers) >= 2) {
lower <- as.numeric(str_replace_all(numbers[1], "\\.", ""))
upper <- as.numeric(str_replace_all(numbers[2], "\\.", ""))
return((lower + upper) / 2)
}
return(NA)
}
# Aplicar a conversão ao DataFrame principal
df <- df %>%
mutate(numeric_salary = map_dbl(`2.h_faixa_salarial`, convert_salary_to_numeric))
# 1. Carregar as bibliotecas
library(reactable)
library(crosstalk)
library(ggplot2)
library(dplyr)
# 2. Criar um objeto SharedData
# Usamos o iris como exemplo
iris_shared <- SharedData$new(iris, group = "species_group")
# 3. Criar a tabela reactable usando o objeto SharedData
tabela_interativa <- reactable(
iris_shared,
selection = "multiple",
onClick = "select",
searchable = TRUE,
height = 300,
columns = list(
Species = colDef(
name = "Espécie",
filterInput = function(values, name) {
crosstalk::filter_select(
name, "Filtrar por espécie", iris_shared, ~Species, multiple = FALSE
)
}
)
)
)
# 4. Criar um gráfico ggplot2 usando o objeto SharedData
# O `highlight_key` é essencial para o ggplot2 interagir com o crosstalk
grafico_interativo <- iris_shared %>%
highlight_key(~Species, "species_group") %>%
ggplot(aes(x = Petal.Length, y = Petal.Width, color = Species)) +
geom_point(aes(key = Species)) +
labs(title = "Gráfico Interativo com Crosstalk")
data("iris")
plot(iris)
install.packages('spotifyr')
library(lubridate)
library(tidyverse)
Sys.setenv(SPOTIFY_CLIENT_ID = '2d2cffe406194792ab0b5bbc2225de3f')
Sys.setenv(SPOTIFY_CLIENT_SECRET = 'f6e33d4334714927beb9c5dd1666e0fa')
access_token <- get_spotify_access_token()
access_token <- get_spotify_access_token()
beatles <- get_artist_audio_features('the beatles')
library(spotifyr)
Sys.setenv(SPOTIFY_CLIENT_ID = '2d2cffe406194792ab0b5bbc2225de3f')
Sys.setenv(SPOTIFY_CLIENT_SECRET = 'f6e33d4334714927beb9c5dd1666e0fa')
access_token <- get_spotify_access_token()
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
kable()
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
table()
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
table()
access_token<-get_spotify_access_token(client_id=myclientid,client_secret=myclientsecret)
Sys.setenv(SPOTIFY_CLIENT_ID = '2d2cffe406194792ab0b5bbc2225de3f')
Sys.setenv(SPOTIFY_CLIENT_SECRET = 'f6e33d4334714927beb9c5dd1666e0fa')
access_token <- get_spotify_access_token()
get_my_recently_played(limit = 5)
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
table()
Sys.setenv(SPOTIFY_CLIENT_ID = '2d2cffe406194792ab0b5bbc2225de3f')
Sys.setenv(SPOTIFY_CLIENT_SECRET = '23b356c73ec448f79387034167e536ee')
access_token <- get_spotify_access_token()
get_my_recently_played(limit = 5)
Sys.setenv(SPOTIFY_CLIENT_ID = '4ca1770090c44d2893414103f1cce17c')
Sys.setenv(SPOTIFY_CLIENT_SECRET = '0431d6db0ec74a04a27a0f822fc97ba2')
access_token <- get_spotify_access_token()
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
table()
source("~/.active-rstudio-document", echo = TRUE)
install.packages('spotifyr')
Sys.setenv(SPOTIFY_CLIENT_SECRET = 'fb016a61480646358f89a43209249fa5')
access_token <- get_spotify_access_token()
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
table()
myclientid <- '4ca1770090c44d2893414103f1cce17c'
myclientsecret <- 'fb016a61480646358f89a43209249fa5'
access_token<-get_spotify_access_token(client_id=myclientid,client_secret=myclientsecret)
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
table()
access_token<-get_spotify_access_token(client_id=myclientid,client_secret=myclientsecret)
access_token<-get_spotify_access_token(4ca1770090c44d2893414103f1cce17c,fb016a61480646358f89a43209249fa5)
access_token<-get_spotify_access_token('4ca1770090c44d2893414103f1cce17c','fb016a61480646358f89a43209249fa5')
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
table()
myclientid <- 0aa7fc1311c74fcebe530b8e067dc1c3
myclientid <- '0aa7fc1311c74fcebe530b8e067dc1c3'
myclientsecret <- '3c27e4067a5c422f803b908fa6e97e1d'
access_token<-get_spotify_access_token(client_id=myclientid,client_secret=myclientsecret)
get_my_recently_played(limit = 5) %>%
mutate(
artist.name = map_chr(track.artists, function(x) x$name[1]),
played_at = as_datetime(played_at)
) %>%
select(
all_of(c("track.name", "artist.name", "track.album.name", "played_at"))
) %>%
table()
access_token <- get_spotify_access_token(scope = 'user-top-read')
authorization_token <- get_spotify_authorization_code(scope = 'user-top-read')
SPOTIFY_CLIENT_ID <- Sys.getenv("2d2cffe406194792ab0b5bbc2225de3f")
SPOTIFY_CLIENT_SECRET <- Sys.getenv("23b356c73ec448f79387034167e536ee")
spotify_app <- httr::oauth_app(
appname = 'spotifyr',
key = SPOTIFY_CLIENT_ID,
secret = SPOTIFY_CLIENT_SECRET
)
spotify_endpoints <- httr::oauth_endpoint(
authorize = 'https://accounts.spotify.com/authorize',
access = 'https://accounts.spotify.com/api/token'
)
authorization_token <- httr::oauth2.0_token(
endpoint = spotify_endpoints,
app = spotify_app,
scope = 'user-top-read',
# Use o argumento redirect_uri com o valor EXATO
redirect_uri = "http://[::1]:8000/callback"
)
authorization_token <- httr::oauth2.0_token(
endpoint = spotify_endpoints,
app = spotify_app,
scope = 'user-top-read',
# Use o argumento redirect_uri com o valor EXATO
redirect_uri = "http://[::1]:8000/callback"
)
get_my_top_artists_or_tracks(type = 'artists', time_range = 'long_term', limit = 5, authorization = authorization_token)
access_token <- get_spotify_authorization_code()
myclientid <- '2d2cffe406194792ab0b5bbc2225de3f'
myclientsecret <- '23b356c73ec448f79387034167e536ee'
access_token<-get_spotify_access_token(client_id=myclientid,client_secret=myclientsecret)
get_my_top_artists_or_tracks(type = 'artists', time_range = 'long_term', limit = 5, authorization = authorization_token)
get_my_top_artists_or_tracks(type = 'artists', time_range = 'long_term', limit = 5, authorization = authorization_token)
library(spotifyr)
library(tidyverse)
myclientid <- '2d2cffe406194792ab0b5bbc2225de3f'
myclientsecret <- '23b356c73ec448f79387034167e536ee'
access_token<-get_spotify_access_token(client_id=myclientid,client_secret=myclientsecret)
get_my_top_artists_or_tracks(type = 'artists', time_range = 'long_term', limit = 5, authorization = authorization_token)
get_my_top_artists_or_tracks(type = 'artists', time_range = 'long_term', limit = 5)
access_token<-get_spotify_access_token(client_id=myclientid,client_secret=myclientsecret)
access_token<-get_spotify_access_token(client_id=myclientid,client_secret=myclientsecret)
get_my_top_artists_or_tracks(type = 'artists', time_range = 'long_term', limit = 5)
authorization_token <- get_spotify_authorization_code(scope = 'user-top-read')
devtools::install_github('charlie86/spotifyr')
library(devtools)
install.packages("devtools")
devtools::install_github('charlie86/spotifyr')
library(devtools)
devtools::install_github('charlie86/spotifyr')
library(shiny); runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
df_nomes <- readRDS("nomes_lista") |>
bind_rows() |>
as_tibble()
df_nomes <- readRDS("nomes_lista") |>
bind_rows() |>
as_tibble()
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
df_nomes <- readRDS("C:/Users/DamaLaptoper/Videos/Metodos/nomes_lista") |>
bind_rows() |>
as_tibble()
sujo_nomes <- df_nomes |>
unnest_auto(res)
limpo_nomes <- sujo_nomes |>
mutate(periodo_limpo = gsub("[^0-9,]", "", periodo)) |>
separate(
periodo_limpo,
into = c("ano_inicio", "ano_fim"),
sep = ",",
convert = TRUE
) |>
mutate(
Começo = ifelse(ano_inicio == 1930 & is.na(ano_fim), 1929, ano_inicio),
Fim = ifelse(is.na(ano_fim) & ano_inicio < 1940, 1930, ano_fim),
Periodo = case_when(
Começo < 1930 ~ "Antes de 1930",
TRUE ~ paste(Começo, "a", Fim)),
Periodo = fct_reorder(Periodo, Começo)
) |>
mutate(Sexo = get_gender(limpo_nomes$Nome),
Sexo = if_else(Sexo == "Male", "Masculino", "Feminino")) |>
select(Nome = nome,
Sexo,
Localidade = localidade,
Frequência = frequencia,
Periodo,
Começo,
Fim)
limpo_nomes <- sujo_nomes |>
mutate(periodo_limpo = gsub("[^0-9,]", "", periodo)) |>
separate(
periodo_limpo,
into = c("ano_inicio", "ano_fim"),
sep = ",",
convert = TRUE
)
limpo_nomes <- sujo_nomes |>
mutate(periodo_limpo = gsub("[^0-9,]", "", periodo)) |>
separate(
periodo_limpo,
into = c("ano_inicio", "ano_fim"),
sep = ",",
convert = TRUE
) |>
mutate(
Começo = ifelse(ano_inicio == 1930 & is.na(ano_fim), 1929, ano_inicio),
Fim = ifelse(is.na(ano_fim) & ano_inicio < 1940, 1930, ano_fim),
Periodo = case_when(
Começo < 1930 ~ "Antes de 1930",
TRUE ~ paste(Começo, "a", Fim)),
Periodo = fct_reorder(Periodo, Começo)
) |>
mutate(Sexo = get_gender(limpo_nomes$Nome),
Sexo = if_else(Sexo == "Male", "Masculino", "Feminino")) |>
select(Nome = nome,
Sexo,
Localidade = localidade,
Frequência = frequencia,
Periodo,
Começo,
Fim)
View(limpo_nomes)
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
install.packages("bslib")
install.packages("bslib")
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
library(shiny)
library(tidyverse)
library(DT)
library(genderBR)
library(dplyr)
library(ggplot2)
library(tidyr)
library(purrr)
library(wordcloud2)
library(scales)
library(shinyWidgets)
lista_nomes <- bind_rows(lista_nomes)
limpo_nomes <- sujo_nomes |>
mutate(periodo_limpo = gsub("[^0-9,]", "", periodo)) |>
separate(
periodo_limpo,
into = c("ano_inicio", "ano_fim"),
sep = ",",
convert = TRUE
) |>
mutate(
Começo = ifelse(ano_inicio == 1930 & is.na(ano_fim), 1929, ano_inicio),
Fim = ifelse(is.na(ano_fim) & ano_inicio < 1940, 1930, ano_fim),
Periodo = case_when(
Começo < 1930 ~ "Antes de 1930",
TRUE ~ paste(Começo, "a", Fim)),
Periodo = fct_reorder(Periodo, Começo)
) |>
mutate(Sexo = get_gender(limpo_nomes$nome),
Sexo = if_else(Sexo == "Male", "Masculino", "Feminino")) |>
select(Nome = nome,
Sexo,
Localidade = localidade,
Frequência = frequencia,
Periodo,
Começo,
Fim)
library(shiny)
library(tidyverse)
library(DT)
library(genderBR)
library(dplyr)
library(ggplot2)
library(tidyr)
library(purrr)
library(wordcloud2)
library(scales)
library(shinyWidgets)
df_nomes <- readRDS("C:/Users/DamaLaptoper/Videos/Metodos/nomes_lista") |>
bind_rows() |>
as_tibble()
sujo_nomes <- df_nomes |>
unnest_auto(res)
lista_nomes <- bind_rows(lista_nomes)
lista_nomes <- bind_rows(lista_nomes)
library(shiny)
library(tidyverse)
library(DT)
library(genderBR)
library(dplyr)
library(ggplot2)
library(tidyr)
library(purrr)
library(wordcloud2)
library(scales)
library(shinyWidgets)
df_nomes <- readRDS("C:/Users/DamaLaptoper/Videos/Metodos/nomes_lista") |>
bind_rows() |>
as_tibble()
sujo_nomes <- df_nomes |>
unnest_auto(res)
limpo_nomes <- sujo_nomes |>
mutate(periodo_limpo = gsub("[^0-9,]", "", periodo)) |>
separate(
periodo_limpo,
into = c("ano_inicio", "ano_fim"),
sep = ",",
convert = TRUE
) |>
mutate(
Começo = ifelse(ano_inicio == 1930 & is.na(ano_fim), 1929, ano_inicio),
Fim = ifelse(is.na(ano_fim) & ano_inicio < 1940, 1930, ano_fim),
Periodo = case_when(
Começo < 1930 ~ "Antes de 1930",
TRUE ~ paste(Começo, "a", Fim)),
Periodo = fct_reorder(Periodo, Começo)
) |>
mutate(Sexo = get_gender(limpo_nomes$nome),
Sexo = if_else(Sexo == "Male", "Masculino", "Feminino")) |>
select(Nome = nome,
Sexo,
Localidade = localidade,
Frequência = frequencia,
Periodo,
Começo,
Fim)
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
runApp('C:/Users/DamaLaptoper/Videos/Metodos/METODOS_1.R')
